{"version":3,"sources":["../../src/providers/global.service.ts","../../node_modules/_@angular_core@4.1.3@@angular/core/@angular lazy","../../node_modules/_ionic-angular@3.5.0@ionic-angular/util lazy","../../src/_util/jpush.service.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../ws (ignored)","../../src/config.js","../../src/_util/socket.io.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Subject, Observable } from \"rxjs\";\r\n\r\nlet subject: Subject<any> = new Subject<any>();\r\nlet tokenSubject: Subject<any> = new Subject<any>();\r\nexport class GlobalService {\r\n\tpublic notificationSubject: Subject<any> = new Subject<any>();\r\n\t_isActive: boolean = false;\r\n\t_isFirstTimeOpen:boolean;\r\n\t_token: string;\r\n\t_userinfo: any;\r\n\t_countdown: number = 0;\r\n\t_resttime: number = 0;\r\n\r\n\tserverAddress = \"http://115.29.51.196:5555\";\r\n\r\n\tpublic get projectChangeMonitor(): Observable<any> {\r\n\t\treturn this.notificationSubject.asObservable();\r\n\t}\r\n\r\n\t\r\n\tget appIsActive() {\r\n\t\treturn this._isActive;\r\n\t}\r\n\r\n\tset appIsActive(value) {\r\n\t\tthis._isActive = value;\r\n\t}\r\n\r\n\tget RongyunAppKey() {\r\n\t\treturn \"lmxuhwagxgt9d\";\r\n\t}\r\n\r\n\tpublic get userinfostate(): Observable<any> {\r\n\t\treturn subject.asObservable();\r\n\t}\r\n\r\n\tpublic get tokenState(): Observable<any> {\r\n\t\treturn tokenSubject.asObservable();\r\n\t}\r\n\r\n\tget token() {\r\n\t\tif (this._token) {\r\n\t\t\treturn this._token;\r\n\t\t} else {\r\n\t\t\treturn localStorage.getItem(\"token\");\r\n\t\t}\r\n\t}\r\n\tset token(value) {\r\n\t\tthis._token = value;\r\n\t\tlocalStorage.setItem(\"token\", value);\r\n\t\t// this.rebirthHttpProvider.headers({ Authorization: appstate.token });\r\n\t\ttokenSubject.next(value);\r\n\t}\r\n\r\n\tget userinfo() {\r\n\t\tif (this._userinfo) {\r\n\t\t\treturn this._userinfo;\r\n\t\t} else {\r\n\t\t\tvar userStr = localStorage.getItem(\"userinfo\");\r\n\t\t\tif (userStr) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis._userinfo = JSON.parse(userStr);\r\n\t\t\t\t\treturn this._userinfo;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tset userinfo(value) {\r\n\t\tthis._userinfo = value;\r\n\t\tlocalStorage.setItem(\"userinfo\", value);\r\n\t\tsubject.next(value);\r\n\t}\r\n\r\n\tget isFirstTimeOpen() {\r\n\t\tif (this._isFirstTimeOpen) {\r\n\t\t\treturn this._isFirstTimeOpen;\r\n\t\t} else {\r\n\t\t\tlet isFirstTimeOpen = localStorage.getItem(\"isFirstTimeOpen\");\r\n\t\t\tif(isFirstTimeOpen == \"false\"){\r\n\t\t\t\treturn false;\r\n\t\t\t}else{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tset isFirstTimeOpen(value) {\r\n\t\tthis._isFirstTimeOpen = value;\r\n\t\tlet str  = \"\";\r\n\t\tif(value){\r\n\t\t\tstr=\"true\";\r\n\t\t}else{\r\n\t\t\tstr=\"false\";\r\n\t\t}\r\n\t\tlocalStorage.setItem(\"isFirstTimeOpen\", str);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * 打开通知\r\n\t * @param data \r\n\t */\r\n\topenNotificationCallback(data) {\r\n\t\tthis.notificationSubject.next({\r\n\t\t\ttype: \"open\",\r\n\t\t\tdata: data\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 收到通知\r\n\t * @param data \r\n\t */\r\n\treceiveNotificationCallback(data) {\r\n\t\tthis.notificationSubject.next({\r\n\t\t\ttype: \"receive\",\r\n\t\t\tdata: data\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * 设置别名\r\n\t * @param data \r\n\t */\r\n\tsetTagsWithAliasCallback(data) {\r\n\t\tthis.notificationSubject.next({\r\n\t\t\ttype: \"setAlias\",\r\n\t\t\tdata: data\r\n\t\t});\r\n\t}\r\n\t\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/global.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 148;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_@angular_core@4.1.3@@angular/core/@angular lazy\n// module id = 148\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 190;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_ionic-angular@3.5.0@ionic-angular/util lazy\n// module id = 190\n// module chunks = 0","/**\r\n * 极光推送服务\r\n */\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Platform } from \"ionic-angular\";\r\nimport { GlobalService } from \"../providers/global.service\";\r\n\r\ndeclare var window;\r\n\r\n@Injectable()\r\nexport class JPushService {\r\n  constructor(public plf: Platform, public _global: GlobalService) {\r\n    // 订阅应用启动退出\r\n    plf.resume.subscribe(data => {\r\n      this.clearLocAndBadge();\r\n    });\r\n    plf.pause.subscribe(d => {\r\n      _global.appIsActive = false;\r\n    });\r\n  }\r\n\r\n  clearLocAndBadge() {\r\n    this.clearLocalNotifications(); //进入时清除本地通知数据\r\n    this.setApplicationIconBadgeNumber(0); //进入应用徽章清空\r\n    this.resetBadge(); //还原极光服务器\r\n  }\r\n\r\n  documentBindEventListener(eventType, callback) {\r\n    document.removeEventListener(eventType, callback, false);\r\n    document.addEventListener(eventType, callback, false);\r\n  }\r\n\r\n  //应用程序处于前台时收到推送会触发该事件\r\n  setTagsWithAliasCallback(event) {\r\n    if (event.resultCode !== 0) {\r\n      setTimeout(() => {\r\n        this.setAlias(\"1000\");\r\n      }, 6000);\r\n      //myNote.myNotice(\"注册推送服务失败，错误码：\" + event.resultCode, 3000);\r\n    } else {\r\n      //设置别名成功才算开启推送\r\n    }\r\n    this._global.setTagsWithAliasCallback(event);\r\n  }\r\n\r\n  openNotificationCallback(data) {\r\n    //点击通知打开应用，清除badge和本地通知\r\n    this.clearLocAndBadge();\r\n    let isAndroid = this.plf.is(\"android\");\r\n    let type = isAndroid ? data.extras.Type : data.Type;\r\n    if (type == 1) {\r\n      //涉及到页面重绘，在controller中监听实现跳转\r\n    } else if (type == 2) {\r\n    }\r\n    this._global.openNotificationCallback(data);\r\n  }\r\n\r\n  receiveCallback(data) {\r\n    //应用在激活状态，不添加badge和本地通知\r\n    if (this._global.appIsActive == true) {\r\n      this.clearLocAndBadge();\r\n    }\r\n    let type = this.plf.is(\"android\") ? data.extras.Type : data.Type;\r\n    // 根据设置是否需要开启音效\r\n    if (true) {\r\n      // \r\n      // let audio = new Audio();\r\n      // audio.src = \"http://remote.address.com/example.mp3\";\r\n      // audio.load();\r\n      // audio.play();\r\n    }\r\n    if (type == 1) {\r\n    } else if (type == 2) {\r\n    }\r\n    this._global.receiveNotificationCallback(data);\r\n  }\r\n  //启动极光推送,读取用户设置，进行初始化操作，如果没有自定义设置，默认开启\r\n\r\n  init(alias) {\r\n    document.addEventListener(\r\n      \"deviceready\",\r\n      () => {\r\n        this.getUserNotificationSettings(function(result) {\r\n          if (result === 0) {\r\n            //推送被关闭,提示用户开启权限\r\n            // myNote.myNotice(\"告警推送需要在设置中开启应用推送权限\", 3000);\r\n          }\r\n        });\r\n        this.resumePush(); //如果stopPush后，必须resume再init，否则无效\r\n        let config = {\r\n          stac: this.setTagsWithAliasCallback,\r\n          onc: this.openNotificationCallback,\r\n          rnc: this.receiveNotificationCallback,\r\n          bnc: this.backgroundNotificationCallback\r\n        };\r\n        if (this.plf.is(\"ios\")) {\r\n          //ios不同于android，需要注册apns服务\r\n          window.plugins.NXTPlugin.startJPushSDK();\r\n        }\r\n        //本功能是一个完全本地的状态操作，也就是说：停止推送服务的状态不会保存到服务器上。\r\n        //推送服务停止期间推送的消息，恢复推送服务后，如果推送的消息还在保留的时长范围内，则客户端是会收到离线消息。\r\n        window.plugins.NXTPlugin.init();\r\n        //设置tag和Alias触发事件处理\r\n        this.documentBindEventListener(\"jpush.setTagsWithAlias\", config.stac);\r\n        this.documentBindEventListener(\"jpush.openNotification\", config.onc);\r\n        this.documentBindEventListener(\"jpush.receiveNotification\", config.rnc);\r\n        this.documentBindEventListener(\"jpush.backgroundNotification\",config.bnc);\r\n        // 提交华为 Token\r\n        this.documentBindEventListener(\"jpush.onReceiveHuaWeiToken\", function(\r\n          token\r\n        ) {\r\n          // 这里需要保存到本地，这样就不需要反复获取了\r\n          // 保存 token 至服务端，token\r\n          console.log(\"收到华为TOKEN:\", token);\r\n        });\r\n        //开发周期建议打开debug模式，可以获得额外帮助,发布时关闭，节省性能\r\n        window.plugins.NXTPlugin.setDebugMode(false);\r\n        //以下仅限android，插件内部做了平台判断\r\n        window.plugins.NXTPlugin.setBasicPushNotificationBuilder(); //声音，振动提示等,\r\n        window.plugins.NXTPlugin.requestPermission(); //用于在 Android 6.0 及以上系统，申请一些权限\r\n        this.clearLocAndBadge();\r\n        // 根据实际状况设置推送是否开启\r\n        let pushState = true;\r\n        //默认开启，除非明确设置为false,\r\n        if (pushState) {\r\n          this.setAlias(alias);\r\n        } else {\r\n          this.stopPush();\r\n        }\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  receiveNotificationCallback(data) {\r\n    this.receiveCallback(data);\r\n  }\r\n  //应用程序处于后台时收到推送会触发该事件，可以在后台执行一段代码。\r\n  backgroundNotificationCallback = function(data) {\r\n    this.receiveCallback(data);\r\n  };\r\n\r\n  /**\r\n       * @function: 停止极光推送\r\n       * android平台:\r\n       * JPush Service 不在后台运行。\r\n       * 收不到推送消息。\r\n       * 不能通过 JPushInterface.init 恢复，需要调用 resumePush 恢复。\r\n       * 极光推送所有的其他 API 调用都无效。\r\n       * ios平台：\r\n       * 不推荐调用，因为这个 API 只是让你的 DeviceToken 失效，在 设置－通知 中您的应用程序没有任何变化。\r\n       * 建议设置一个 UI 界面， 提醒用户在 设置－通知 中关闭推送服务。\r\n       * */\r\n  stopPush() {\r\n    window.plugins.NXTPlugin.stopPush();\r\n  }\r\n\r\n  /**\r\n       * @function 重启极光推送\r\n       * @description Android平台:极光推送完全恢复正常工作。\r\n       * @description iOS平台:重新去 APNS 注册。\r\n       * */\r\n  resumePush() {\r\n    window.plugins.NXTPlugin.resumePush();\r\n  }\r\n\r\n  /**\r\n       * @function: 获取状态\r\n       * @description Android 平台:用来检查 Push Service 是否已经被停止。\r\n       * @description iOS 平台:平台检查推送服务是否注册。\r\n       * @param 参数是回调函数：result为0表示开启，其他表示关闭\r\n       * ps:调用stopPush关闭之后，不会马上生效\r\n       * */\r\n  isPushStopped(fun) {\r\n    window.plugins.NXTPlugin.isPushStopped(fun);\r\n  }\r\n\r\n  /**\r\n       * @function 得到RegistrationID\r\n       * @description 集成了 JPush SDK 的应用程序在第一次成功注册到 JPush 服务器时，JPush 服务器会给客户端返回一个唯一的该设备的标识 - RegistrationID。\r\n       * @description 应用程序可以把此 RegistrationID 保存以自己的应用服务器上，然后就可以根据 RegistrationID 来向设备推送消息或者通知。\r\n       * @param 参数是回调函数，result结果为RegistrationID\r\n       * */\r\n  getRegistrationID(fun) {\r\n    window.plugins.NXTPlugin.getRegistrationID(fun);\r\n  }\r\n\r\n  /**\r\n       * 设置别名和标签，本身无返回值，可以注册jpush.setTagsWithAlias 事件来监听设置结果:\r\n       * document.addEventListener(\"jpush.setTagsWithAlias\", function(event) {}, false)\r\n       * event结构为{resultCode:null,tags:null,alias:null}\r\n       * 具体错误码定义见readme.md\r\n       * */\r\n\r\n  /**\r\n       * @function 设置别名\r\n       * @description 为安装了应用程序的用户，取个别名来标识。以后给该用户 Push 消息时，就可以用此别名来指定。尽可能根据别名来唯一确定用户。\r\n       * @alias 参数类型为字符串。空字符串 （\"\"）表示取消之前的设置。\r\n       * */\r\n  setAlias(alias) {\r\n    window.plugins.NXTPlugin.setAlias(alias);\r\n  }\r\n\r\n  /**\r\n       * @function 设置标签\r\n       * @description 为安装了应用程序的用户，打上标签。其目的主要是方便开发者根据标签，来批量下发 Push 消息。\r\n       * @description 可为每个用户打多个标签。\r\n       * @tags 参数类型为数组。空集合表示取消之前的设置。\r\n       * @description 每个 tag 命名长度限制为 40 字节，最多支持设置 100 个 tag，但总长度不得超过1K字节（判断长度需采用 UTF-8 编码）。\r\n       * @description 单个设备最多支持设置 100 个 tag，App 全局 tag 数量无限制。\r\n       * */\r\n  setTags(tags) {\r\n    window.plugins.NXTPlugin.setTags(tags);\r\n  }\r\n\r\n  //设置标签和别名\r\n  setTagsWithAlias(tags, alias) {\r\n    window.plugins.NXTPlugin.setTagsWithAlias(tags, alias);\r\n  }\r\n\r\n  /**\r\n       * @function 判断系统设置中是否允许当前应用推送\r\n       * @description 在 Android 中，返回值为 0 时，代表系统设置中关闭了推送；为 1 时，代表打开了推送（目前仅适用于Android 4.4+）。\r\n       * @description 在 iOS 中，返回值为 0 时，代表系统设置中关闭了推送；大于 0 时，代表打开了推送，且能够根据返回值判断具体通知形式\r\n       * @param 参数是回调方法，result状态值\r\n       * */\r\n  getUserNotificationSettings(fun) {\r\n    window.plugins.NXTPlugin.getUserNotificationSettings(fun);\r\n  }\r\n\r\n  clearLocalNotifications() {\r\n    window.plugins.NXTPlugin.clearLocalNotifications();\r\n  }\r\n\r\n  clearAlias() {\r\n    this.setAlias(\"\");\r\n  }\r\n\r\n  clearTags() {\r\n    this.setTags([]);\r\n  }\r\n\r\n  // iOS methods\r\n  // JPush封装badge功能，允许应用上传badge值至JPush服务器，由JPush后台帮助管理每个用户所对应的推送badge值，简化了设置推送badge的操作。\r\n  // 本接口不会直接改变应用本地的角标值. 要修改本地badege值，使用setApplicationIconBadgeNumber\r\n  setBadge(value) {\r\n    window.plugins.NXTPlugin.setBadge(value);\r\n  }\r\n\r\n  //resetBadge 相当于 setBadge(0)。\r\n  resetBadge() {\r\n    window.plugins.NXTPlugin.resetBadge();\r\n  }\r\n\r\n  /**\r\n   * 设置应用图标数值\r\n   * @param badge 应用图标数值\r\n   */\r\n  setApplicationIconBadgeNumber(badge) {\r\n    window.plugins.NXTPlugin.setApplicationIconBadgeNumber(badge);\r\n  }\r\n\r\n  /**\r\n   * 获取应用图标数值\r\n   * @param fun \r\n   */\r\n  getApplicationIconBadgeNumber(fun) {\r\n    window.plugins.NXTPlugin.getApplicationIconBadgeNumber(fun);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/_util/jpush.service.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { HttpModule } from \"@angular/http\";\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n// import * as hidpiCanvas from 'hidpi-canvas/dist/hidpi-canvas.min.js'\r\nimport { MyApp } from './app.component';\r\n\r\nimport { SocketIoModule, SocketIoConfig } from 'ng-socket-io';\r\nimport { baseUrl } from '../config'\r\nconst config: SocketIoConfig = { url: baseUrl+'tomatobang', options: {} };\r\n\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { GlobalService } from '../providers/global.service';\r\nimport { JPushService } from '../_util/jpush.service';\r\nimport { TomatoIOService } from '../_util/socket.io.service';\r\n\r\nimport { RebirthStorageModule } from 'rebirth-storage'; \r\nimport { RebirthHttpModule  } from 'rebirth-http';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp\r\n  ],\r\n  imports: [\r\n    RebirthStorageModule,\r\n    RebirthHttpModule,\r\n    BrowserModule,\r\n    HttpModule,\r\n    IonicModule.forRoot(MyApp,{\r\n      // 子页隐藏 TAB\r\n      tabsHideOnSubPages:true,\r\n      tabsLayout:'icon-left',\r\n      iconMode:\"ios\",\r\n      // 禁用 IOS 手势滑动返回\r\n      swipeBackEnabled:false\r\n    }),\r\n    SocketIoModule.forRoot(config),\r\n    IonicStorageModule.forRoot()\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    GlobalService,JPushService,TomatoIOService,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { JPushService } from '../_util/jpush.service';\r\nimport { GlobalService } from '../providers/global.service';\r\nimport { RebirthHttpProvider } from \"rebirth-http\";\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage: any;\r\n\r\n  constructor(\r\n    platform: Platform,\r\n    statusBar: StatusBar,\r\n    splashScreen: SplashScreen,\r\n    jPushService: JPushService,\r\n    public rebirthProvider: RebirthHttpProvider,\r\n    global:GlobalService\r\n  ) {\r\n    platform.ready().then(() => {\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n\r\n      // 初始化 jPush\r\n      // if (global.userinfo){\r\n      //   jPushService.init(global.userinfo.username);\r\n      // }\r\n      \r\n    });\r\n\r\n    // Check if the user has already seen the tutorial\r\n    if (global.isFirstTimeOpen){\r\n      global.isFirstTimeOpen = false;\r\n      this.rootPage = \"GuidePage\";\r\n    }else{\r\n      if(global.userinfo){\r\n        this.rebirthProvider.headers({ Authorization: global.token });\r\n        this.rootPage = \"TabsPage\";\r\n      }else{\r\n        this.rootPage = \"LoginPage\";\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 611\n// module chunks = 0","exports.baseUrl = \"http://115.29.51.196:5555/\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config.js\n// module id = 614\n// module chunks = 0","/**\r\n * socket.io 服务\r\n */\r\n\r\nimport { Injectable } from \"@angular/core\";\r\nimport \"rxjs/add/operator/map\";\r\nimport { Socket } from \"ng-socket-io\";\r\n\r\n@Injectable()\r\nexport class SocketIOService {\r\n\tconstructor(private socket: Socket) {}\r\n\r\n\tgetMessage() {\r\n\t\treturn this.socket.fromEvent<any>(\"msg\").map(data => data.msg);\r\n\t}\r\n\r\n\tsendMessage(msg: string) {\r\n\t\tthis.socket.emit(\"msg\", msg);\r\n\t}\r\n\r\n\tlogin(userid: string) {\r\n\t\tthis.socket.emit(\"login_test\", userid);\r\n\t}\r\n\r\n\trequestOtherPos(to_userid: string) {\r\n\t\tthis.socket.emit(\"request_other_pos\", to_userid);\r\n\t}\r\n\r\n\tpostMyPos(to_userid, pos) {\r\n\t\tthis.socket.emit(\"post_my_pos\", to_userid, pos);\r\n\t}\r\n\r\n\t/**\r\n\t * 被要求提交位置\r\n\t */\r\n\tPleasePostPos() {\r\n\t\treturn this.socket.fromEvent<any>(\"please_post_pos\").map(data => data);\r\n\t}\r\n\r\n\t/**\r\n\t * 收到位置信息\r\n\t */\r\n\treceiveOtherPos() {\r\n\t\treturn this.socket\r\n\t\t\t.fromEvent<any>(\"received_other_pos\")\r\n\t\t\t.map(data => data);\r\n\t}\r\n\r\n\t/**\r\n\t * 位置收发错误\r\n\t */\r\n\tsendPos_error() {\r\n\t\treturn this.socket.fromEvent<any>(\"location_error\").map(data => data);\r\n\t}\r\n}\r\n\r\n\r\n\r\nimport {Tomato} from \"../providers/model_api/tomato\"\r\n\r\n@Injectable()\r\nexport class TomatoIOService {\r\n\tconstructor(private socket: Socket) {}\r\n\r\n\r\n\t/**\r\n\t * 第一次，用于加载当前tomato\r\n\t */\r\n\tload_tomato(userid:string){\r\n\t\tthis.socket.emit(\"load_tomato\", {userid,endname:\"ionic\"},);\r\n\t}\r\n\r\n\tload_tomato_succeed(){\r\n\t\treturn this.socket.fromEvent<any>(\"load_tomato_succeed\").map(data => data);\r\n\t}\r\n\r\n\t/**\r\n\t * 其它终端中断番茄钟\r\n\t */\r\n\tother_end_break_tomato() {\r\n\t\treturn this.socket.fromEvent<any>(\"other_end_break_tomato\").map(data => data);\r\n\t}\r\n\t/**\r\n\t * 中断番茄钟\r\n\t */\r\n\tbreak_tomato(userid:string,tomato:Tomato) {\r\n\t\tthis.socket.emit(\"break_tomato\",{\r\n\t\t\tuserid,endname:\"ionic\",tomato\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * 中断番茄钟\r\n\t */\r\n\tbreak_tomato_succeed() {\r\n\t\tthis.socket.fromEvent<any>(\"break_tomato_succeed\").map(data => data);\r\n\t}\r\n\r\n\t/**\r\n\t * 其它终端开启番茄钟\r\n\t */\r\n\tother_end_start_tomato() {\r\n\t\treturn this.socket.fromEvent<any>(\"other_end_start_tomato\").map(data => data);\r\n\t}\r\n\r\n\t/**\r\n\t * 开启番茄钟\r\n\t */\r\n\tstart_tomato(userid:string,tomato:Tomato) {\r\n\t\tthis.socket.emit(\"start_tomato\", {userid,endname:'ionic',tomato});\r\n\t}\r\n\r\n\t/**\r\n\t * 开启番茄钟成功\r\n\t */\r\n\tstart_tomato_succeed(tomato:Tomato) {\r\n\t\tthis.socket.emit(\"start_tomato_succeed\", tomato);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/_util/socket.io.service.ts"],"sourceRoot":""}